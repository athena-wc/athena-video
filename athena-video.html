<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">

<!--
This element wraps video attributes and elements for video content.

I've chosen mp4 as the default regardless of possible license issues.

Example with a single format:

    <athena-video formats='["mp4"]'
               width="480"
               height="640"
               poster="http://media.w3.org/2010/05/sintel/poster.png"
               source="http://media.w3.org/2010/05/sintel/trailer">
    </athena-video>

Example with multiple formats:

    <athena-video formats='["mp4", "webm", "ogg"]'
               width="480"
               height="640"
               poster="http://media.w3.org/2010/05/sintel/poster.png"
               source="http://media.w3.org/2010/05/sintel/trailer">
    </athena-video>


@group athena-video
@element athena-video
@demo demo/index.html
@hero hero.svg
-->
<dom-module id="athena-video">

  <template>
    <style>
      :host {
        display: block;
        box-sizing: border-box;
      }
      video {
        height: auto;
        max-width: 100%;
      }
    </style>
      <video controls poster="{{poster}}" width="{{width}}" height="{{height}}">
        <template is="dom-repeat" items="{{formats}}" as="format">
          <source src="{{url}}.{{format}}" type="video/{{format}}">
        </template>
      </video>
  </template>
  <script>
    Polymer({

    is: 'athena-video',

      properties: {

        /**
        Formats to use when creating source
        children elements
        */
        formats: {
          type: Array,
          value: '["mp4"]'
        },

        /**
        Height of the video
        */
        height: {
          type: Number,
          value: 640
        },
        /**
        Width of the video
        */
        width: {
          type: Number,
          value: 480
        },
        /**
        URL to the poster image for the video
         */
        poster: {
          type: String,
          value: "images/poster.png"
        },
      }
    });

</script>
</dom-module>
